{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Teck Yi\\\\Desktop\\\\School stuffs\\\\AD Project\\\\Team7-React-Client\\\\src\\\\Component\\\\CreatePost.js\";\nimport React, { Component } from \"react\";\nimport PostService from \"../Services/PostService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CreatePost extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangePrice = this.onChangePrice.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeBrand = this.onChangeBrand.bind(this);\n    this.onChangeEngineCapacity = this.onChangeEngineCapacity.bind(this);\n    this.onChangeRegisteredDate = this.onChangeRegisteredDate.bind(this);\n    this.onChangeMileage = this.onChangeMileage.bind(this);\n    this.onChangeCategory = this.onChangeCategory.bind(this);\n    this.onChangePhotoUrl = this.onChangePhotoUrl.bind(this);\n    this.onChangePhotoByte = this.onChangePhotoByte.bind(this);\n    this.saveImage = this.saveImage.bind(this); // this.convertBase64 = this.convertBase64.bind(this);\n    // this.convert = this.convert.bind(this);\n\n    this.savePost = this.savePost.bind(this);\n    this.newPost = this.newPost.bind(this);\n    this.state = {\n      postId: null,\n      price: 0,\n      description: \"\",\n      brand: \"\",\n      engineCapacity: \"\",\n      registeredDate: new Date(),\n      mileage: 0,\n      category: \"\",\n      photoUrl: \"\",\n      photoByte: null\n    };\n  }\n\n  onChangePrice(e) {\n    this.setState({\n      price: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  onChangeBrand(e) {\n    this.setState({\n      brand: e.target.value\n    });\n  }\n\n  onChangeEngineCapacity(e) {\n    this.setState({\n      engineCapacity: e.target.value\n    });\n  }\n\n  onChangeRegisteredDate(e) {\n    this.setState({\n      registeredDate: e.target.value\n    });\n  }\n\n  onChangeMileage(e) {\n    this.setState({\n      mileage: e.target.value\n    });\n  }\n\n  onChangeCategory(e) {\n    this.setState({\n      category: e.target.value\n    });\n  }\n\n  onChangePhotoUrl(e) {\n    this.setState({\n      photoUrl: e.target.value\n    });\n  }\n\n  onChangePhotoByte(e) {\n    this.setState({\n      photoByte: e.target.files[0]\n    });\n    console.log(e.target.files[0]);\n  } // convert(file){\n  //   var reader = new FileReader();\n  //   if(file)\n  //     reader.readAsDataURL(file);\n  //     reader.onload = () =>{\n  //       var Base64 = reader.result;\n  //       this.setState({\n  //         photoByte: Base64\n  //       })\n  //     };\n  //     reader.onerror = (error) => {\n  //       console.log(\"error:\", error);\n  //     }\n  // }\n  // async convert(file){\n  //       const base64 = await this.convertBase64(file);\n  //       return base64;\n  //     }\n  // convertBase64(file){\n  //   return new Promise((resolve,reject)=> {\n  //     const fileReader = new FileReader();\n  //     fileReader.readAsDataURL(file);\n  //     fileReader.onloadend  = ()=>{\n  //       resolve(fileReader.result);\n  //     };\n  //     fileReader.onerror = (error)=>{\n  //         reject(error);\n  //     };\n  //   });\n  // }\n\n\n  savePost() {\n    var data = {\n      //postId: this.state.postId,\n      price: this.state.price,\n      description: this.state.description,\n      brand: this.state.brand,\n      engineCapacity: this.state.engineCapacity,\n      registeredDate: this.state.registeredDate,\n      mileage: this.state.mileage,\n      category: this.state.category,\n      photoUrl: this.state.photoUrl\n    };\n    console.log(data);\n    PostService.createPost(data).then(response => {\n      this.setState({\n        postId: response.data.postId,\n        price: response.data.price,\n        description: response.data.description,\n        brand: response.data.brand,\n        engineCapacity: response.data.engineCapacity,\n        registeredDate: response.data.registeredDate,\n        mileage: response.data.mileage,\n        category: response.data.category,\n        photoUrl: response.data.photoUrl\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  saveImage() {\n    var data = {\n      photoByte: this.state.photoByte\n    };\n    console.log(data);\n    PostService.uploadImage(data).then(response => {\n      this.setState({\n        photoByte: response.data.photoByte\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  newPost() {\n    this.setState({\n      postId: 0,\n      price: 0,\n      description: \"\",\n      brand: \"\",\n      engineCapacity: \"\",\n      registeredDate: new Date(),\n      mileage: 0,\n      category: \"\",\n      photoUrl: \"\",\n      photoByte: null\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"price\",\n          required: true,\n          value: this.state.price,\n          onChange: this.onChangePrice,\n          name: \"price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"description\",\n          required: true,\n          value: this.state.description,\n          onChange: this.onChangeDescription,\n          name: \"description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"brand\",\n          children: \"Brand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"brand\",\n          required: true,\n          value: this.state.brand,\n          onChange: this.onChangeBrand,\n          name: \"brand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"engineCapacity\",\n          children: \"Engine Capacity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"engineCapacity\",\n          required: true,\n          value: this.state.engineCapacity,\n          onChange: this.onChangeEngineCapacity,\n          name: \"brand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"registeredDate\",\n          children: \"Registered Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"form-control\",\n          id: \"registeredDate\",\n          required: true,\n          value: this.state.registeredDate,\n          onChange: this.onChangeRegisteredDate,\n          name: \"registeredDate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mileage\",\n          children: \"Mileage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"mileage\",\n          required: true,\n          value: this.state.mileage,\n          onChange: this.onChangeMileage,\n          name: \"mileage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"category\",\n          required: true,\n          value: this.state.category,\n          onChange: this.onChangeCategory,\n          name: \"category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"photoUrl\",\n          children: \"Photo URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"photoUrl\",\n          required: true,\n          value: this.state.photoUrl,\n          onChange: this.onChangePhotoUrl,\n          name: \"photoUrl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.savePost,\n        className: \"btn btn-success\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"uplaodImage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Teck Yi/Desktop/School stuffs/AD Project/Team7-React-Client/src/Component/CreatePost.js"],"names":["React","Component","PostService","CreatePost","constructor","props","onChangePrice","bind","onChangeDescription","onChangeBrand","onChangeEngineCapacity","onChangeRegisteredDate","onChangeMileage","onChangeCategory","onChangePhotoUrl","onChangePhotoByte","saveImage","savePost","newPost","state","postId","price","description","brand","engineCapacity","registeredDate","Date","mileage","category","photoUrl","photoByte","e","setState","target","value","files","console","log","data","createPost","then","response","catch","uploadImage","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport PostService from \"../Services/PostService\";\r\n\r\nexport default class CreatePost extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.onChangePrice = this.onChangePrice.bind(this);\r\n      this.onChangeDescription = this.onChangeDescription.bind(this);\r\n      this.onChangeBrand = this.onChangeBrand.bind(this);\r\n      this.onChangeEngineCapacity = this.onChangeEngineCapacity.bind(this);\r\n      this.onChangeRegisteredDate = this.onChangeRegisteredDate.bind(this);\r\n      this.onChangeMileage = this.onChangeMileage.bind(this);\r\n      this.onChangeCategory = this.onChangeCategory.bind(this);\r\n      this.onChangePhotoUrl = this.onChangePhotoUrl.bind(this);\r\n      this.onChangePhotoByte = this.onChangePhotoByte.bind(this);\r\n      this.saveImage = this.saveImage.bind(this);\r\n      // this.convertBase64 = this.convertBase64.bind(this);\r\n      // this.convert = this.convert.bind(this);\r\n      this.savePost = this.savePost.bind(this);\r\n      this.newPost = this.newPost.bind(this);\r\n\r\n      this.state = {\r\n        postId: null,\r\n        price: 0,\r\n        description: \"\",\r\n        brand: \"\",\r\n        engineCapacity: \"\",\r\n        registeredDate: new Date(),\r\n        mileage: 0,\r\n        category: \"\",\r\n        photoUrl: \"\",\r\n        photoByte: null\r\n      };\r\n    }\r\n\r\n    onChangePrice(e) {\r\n      this.setState({\r\n        price: e.target.value\r\n      });\r\n    }\r\n\r\n    onChangeDescription(e) {\r\n      this.setState({\r\n        description: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangeBrand(e) {\r\n      this.setState({\r\n        brand: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangeEngineCapacity(e) {\r\n      this.setState({\r\n        engineCapacity: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangeRegisteredDate(e) {\r\n      this.setState({\r\n        registeredDate: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangeMileage(e) {\r\n      this.setState({\r\n        mileage: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangeCategory(e) {\r\n      this.setState({\r\n        category: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangePhotoUrl(e) {\r\n      this.setState({\r\n        photoUrl: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangePhotoByte(e) {\r\n      this.setState({\r\n        photoByte: e.target.files[0]\r\n      })\r\n      console.log(e.target.files[0]);\r\n    }\r\n\r\n    // convert(file){\r\n    //   var reader = new FileReader();\r\n    //   if(file)\r\n    //     reader.readAsDataURL(file);\r\n    //     reader.onload = () =>{\r\n    //       var Base64 = reader.result;\r\n    //       this.setState({\r\n    //         photoByte: Base64\r\n    //       })\r\n    //     };\r\n    //     reader.onerror = (error) => {\r\n    //       console.log(\"error:\", error);\r\n    //     }\r\n    // }\r\n\r\n    // async convert(file){\r\n    //       const base64 = await this.convertBase64(file);\r\n    //       return base64;\r\n    //     }\r\n      \r\n\r\n    // convertBase64(file){\r\n    //   return new Promise((resolve,reject)=> {\r\n\r\n    //     const fileReader = new FileReader();\r\n    //     fileReader.readAsDataURL(file);\r\n    //     fileReader.onloadend  = ()=>{\r\n    //       resolve(fileReader.result);\r\n    //     };\r\n\r\n    //     fileReader.onerror = (error)=>{\r\n    //         reject(error);\r\n    //     };\r\n    //   });\r\n    // }\r\n\r\n    savePost() {\r\n        var data = {\r\n            //postId: this.state.postId,\r\n            price: this.state.price,\r\n            description: this.state.description,\r\n            brand: this.state.brand,\r\n            engineCapacity: this.state.engineCapacity,\r\n            registeredDate: this.state.registeredDate,\r\n            mileage: this.state.mileage,\r\n            category: this.state.category,\r\n            photoUrl: this.state.photoUrl,\r\n        };\r\n        console.log(data);\r\n        PostService.createPost(data)\r\n            .then(response => {\r\n                this.setState({\r\n                    postId: response.data.postId,\r\n                    price: response.data.price,\r\n                    description: response.data.description,\r\n                    brand: response.data.brand,\r\n                    engineCapacity: response.data.engineCapacity,\r\n                    registeredDate: response.data.registeredDate,\r\n                    mileage: response.data.mileage,\r\n                    category: response.data.category,\r\n                    photoUrl: response.data.photoUrl,\r\n                });\r\n                console.log(response.data);\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n    }\r\n\r\n    saveImage() {\r\n      var data = {\r\n          photoByte: this.state.photoByte\r\n      };\r\n      console.log(data);\r\n      PostService.uploadImage(data)\r\n          .then(response => {\r\n              this.setState({\r\n                  photoByte: response.data.photoByte\r\n              });\r\n              console.log(response.data);\r\n          })\r\n          .catch(e => {\r\n              console.log(e);\r\n          });\r\n  }\r\n    \r\n    newPost() {\r\n        this.setState({\r\n            postId: 0,\r\n            price: 0,\r\n            description: \"\",\r\n            brand: \"\",\r\n            engineCapacity: \"\",\r\n            registeredDate: new Date(),\r\n            mileage: 0,\r\n            category: \"\",\r\n            photoUrl: \"\",\r\n            photoByte: null\r\n          });\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"price\">Price</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"price\"\r\n                  required\r\n                  value={this.state.price}\r\n                  onChange={this.onChangePrice}\r\n                  name=\"price\"\r\n                />\r\n            </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"description\">Description</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"description\"\r\n                  required\r\n                  value={this.state.description}\r\n                  onChange={this.onChangeDescription}\r\n                  name=\"description\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"brand\">Brand</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"brand\"\r\n                  required\r\n                  value={this.state.brand}\r\n                  onChange={this.onChangeBrand}\r\n                  name=\"brand\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"engineCapacity\">Engine Capacity</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"engineCapacity\"\r\n                  required\r\n                  value={this.state.engineCapacity}\r\n                  onChange={this.onChangeEngineCapacity}\r\n                  name=\"brand\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"registeredDate\">Registered Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control\"\r\n                  id=\"registeredDate\"\r\n                  required\r\n                  value={this.state.registeredDate}\r\n                  onChange={this.onChangeRegisteredDate}\r\n                  name=\"registeredDate\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"mileage\">Mileage</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"mileage\"\r\n                  required\r\n                  value={this.state.mileage}\r\n                  onChange={this.onChangeMileage}\r\n                  name=\"mileage\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"category\">Category</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"category\"\r\n                  required\r\n                  value={this.state.category}\r\n                  onChange={this.onChangeCategory}\r\n                  name=\"category\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"photoUrl\">Photo URL</label>\r\n                <input \r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"photoUrl\"\r\n                  required\r\n                  value={this.state.photoUrl}\r\n                  onChange={this.onChangePhotoUrl}\r\n                  name=\"photoUrl\"\r\n                />\r\n              </div>\r\n              <button onClick={this.savePost} className=\"btn btn-success\">\r\n                Submit\r\n            </button>\r\n            <div className = \"uplaodImage\">\r\n              </div>\r\n            </div>\r\n      );\r\n    }\r\n  }"]},"metadata":{},"sourceType":"module"}